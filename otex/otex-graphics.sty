\ProvidesExplPackage {otex/otex-graphics} {2026-01-16} {1.1} {Orion's Graphics}

% Symbol detection: only load if representative symbols don't exist
\cs_if_exist:NTF \includegraphics 
  { \msg_warning:nnnn { otex } { pkg-skip } { graphicx } { \\includegraphics~already~defined } }
  { \otex_require:nnnn { graphicx } {} {} {} }

\cs_if_exist:NTF \tcbox 
  { \msg_warning:nnnn { otex } { pkg-skip } { tcolorbox } { \\tcbox~already~defined } }
  { \otex_require:nnnn { tcolorbox } {} {} {} }

% TikZ
\cs_if_exist:NTF \tikz 
  { \msg_warning:nnnn { otex } { pkg-skip } { tikz } { \\tikz~already~defined } }
  { \otex_require:nnnn { tikz } {} {} {} }

% Switch to standard LaTeX catcodes for TikZ configuration
\ExplSyntaxOff
\@ifpackageloaded{tikz}
{
  \usetikzlibrary{
    shapes,
    arrows.meta,
    positioning,
    calc,
    patterns,
    decorations.pathreplacing,
    decorations.markings,
    quotes,
    fit,
    backgrounds,
    shadows,
    trees,
    mindmap
  }
  \tikzset{
    base/.style      = {draw, align=center, minimum height=2em, minimum width=2em},
    process/.style   = {base, rectangle, rounded corners, fill=orange!10},
    decision/.style  = {base, diamond, aspect=2, fill=blue!10, inner sep=0pt},
    io/.style        = {base, trapezium, trapezium left angle=70, trapezium right angle=110, fill=green!10},
    startstop/.style = {base, rounded rectangle, fill=red!10},
    arrow/.style     = {thick, ->, >=Stealth},
    line/.style      = {thick}
  }
}
{}

\@ifpackageloaded{pgfplots}
{
  \pgfplotsset{compat=1.18}
  \usepgfplotslibrary{fillbetween, polar}
}
{}
\ExplSyntaxOn

% pgfplots: check for axis environment
\cs_if_exist:cTF { axis } 
  { \msg_warning:nnnn { otex } { pkg-skip } { pgfplots } { axis~environment~already~defined } }
  { \otex_require:nnnn { pgfplots } {} {} {} }

\endinput
