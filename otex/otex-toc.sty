\ProvidesExplPackage {otex/otex-toc} {2025-01-16} {1.1} {Orion's TOC & Index}

% ==============================================================================
% 目录定制 (TOC Customization)
% ==============================================================================

\otex_smart_require:nnnn { tocloft } {} {}
  {
      % Post-setup
      \setcounter{tocdepth}{3}
      \setcounter{secnumdepth}{3}
      % Dot leaders (need check if defined by tocloft, usually yes)
      \renewcommand{\cftsecleader}{\cftdotfill{\cftdotsep}}
      \setlength{\cftbeforesecskip}{0.5em}
  }

% ==============================================================================
% 索引 (Index)
% ==============================================================================

\bool_if:NT \g_otex_load_index_bool
  {
    \otex_smart_require:nnnn { imakeidx }
      { }
      { }
      {
        \makeindex[columns=2, title=Index, intoc]
      }
  }

\endinput
