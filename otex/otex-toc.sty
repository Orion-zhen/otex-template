\ProvidesExplPackage {otex/otex-toc} {2026-01-16} {1.1} {Orion's TOC}

\bool_if:NF \g_otex_load_toc_bool { \endinput }

% Symbol detection for tocloft (use representative command)
% Skip if tocloft or equivalent functionality already exists
% Also detect ccaption/subfig which defines \c@lofdepth and conflicts with tocloft
\bool_new:N \l_otex_toc_skip_bool
\cs_if_exist:NT \cftbeforetoctitleskip { \bool_set_true:N \l_otex_toc_skip_bool }
\cs_if_exist:NT \c@lofdepth { \bool_set_true:N \l_otex_toc_skip_bool }

\bool_if:NTF \l_otex_toc_skip_bool
{
  \msg_warning:nnnn { otex } { pkg-skip } { tocloft } { TOC~already~configured~or~lofdepth~conflict }
}
{
  \otex_require:nnnn { tocloft } {} {} {}
  \@ifpackageloaded{tocloft}{ \setcounter{tocdepth}{3} \setcounter{secnumdepth}{3} } {}
}

\endinput
